id: my_domain.my_data_product.1
name: my data product
fullyQualifiedName: My Data Product
domain: my_domain
description: this data product is representing the xxx functional entity
version: 1.0.0
kind: dataproduct
dataProductOwner: user:tom_smith_corp.com
dataProductOwnerDisplayName: Tom Smith
email: mailto:distribution_list@corp.com
informationSLA: 2WD
status: DRAFT
maturity: Strategic
billing: {}
tags: []
specific: {}
components:
  - id: my_domain.my_data_product.1.raw
    name: my_raw_s3_port
    fullyQualifiedName: My Raw S3 Port
    outputPortType: Files
    technology: s3_cdp
    platform: CDP on AWS
    description: s3 raw output port
    version: 1.0.1
    kind: outputport
    creationDate: 05-04-2022 16:53:00
    startDate: null
    process_description: this output port is generated by a Spark Job scheduled every day at 2AM and it lasts for approx 2 hours
    billing_policy: 5$ for each full scan
    security_policy: In order to consume this output port an additional security check with compliance must be done
    consumer_policy: This is only for HR department and not suitable for institutional reporting.
    SLO: {
      intervalOfChange: 1 hours,
      timeliness: 1 minutes 
    }
    endpoint: /develop/my_domain/my_data_product/1.0.0/my_raw_s3_port
    allows: [user-1]
    owners: [user-2]
    dependsOn: []
    infrastructureTemplateId: microservice-id-1
    useCaseTemplateId: template-id-1
    dependsOn: []
    tags: []
    sampleData: {}
    schema: []
    semanticLinKind: {}
    specific:
      directory: history
      bucket: ms-datamesh-s3
  - id: my_domain.my_data_product.1.impala
    name: my_view_impala_port
    fullyQualifiedName: My View Impala Port
    OutputPortType: SQL
    technology: impala_cdp
    platform: CDP on AWS
    description: impala view output port
    version: 1.1.0
    kind: outputPort
    creationDate: 05-04-2022 17:00:00
    startDate: null
    billing_policy:
    process_description:
    security_policy:
    consumer_policy:
    SLO: {
      intervalOfChange: 1 hours,
      timeliness: 1 minutes 
    }
    allows: [user-1]
    owners: [user-2]
    dependsOn: []
    infrastructureTemplateId: microservice-id-2
    useCaseTemplateId: template-id-2
    dependsOn: [my_domain.my_data_product.1.raw]
    tags: []
    sampleData: {}
    schema: []
    semanticLinKind: {}
    specific:
      database: my_database
      table: my_table
      location: /my_path
      schema:
        firstName: string
        lastName: string
      format: PARQUET
workloads:
  - id: my_domain.my_data_product.1.batch1
    name: my_spark_workload
    fullyQualifiedName: My Spark workload
    description: spark batch workload
    kind: workload
    workloadType: batch
    connectionType: DataPipeline
    technology: spark
    platform: CDP on AWS
    version: 1.1.1
    infrastructureTemplateId: microservice-id-3
    useCaseTemplateId: template-id-3
    tags: []
    readsFrom: [my_domain.my_data_product.1.raw]
    specific:
      artifactory: ms-datamesh-s3
      artefact: /path/to/my/spark/workload.jar
      service: my_cdp_service
      cluster: my_cde_cluster
      className: com.mycompany.MySparkApp
      args:
       - arg1
       - arg2
      driverCores: 1
      driverMemory: 4g
      executorCores: 4
      executorMemory: 4g
      numExecutors: 3
      schedule:
        cronExpression: 0 0 0,22 ? * * *
observability:
  name: my_observability
  description: observability for my data product
  endpoint: /develop/my_domain/my_data_product/1.0.0/obs
  specific:
    restApiName: obs_api
    stageName: data_mesh
    bucket: ms-datamesh-s3
    obsEndpoint:
      - artifact: path/to/my/obs_dq.jar
        handler: com.mycompany.MyHandler::handleRequest
        lambdaname: my_data_product_obs_dq
        awsResourceName: my_data_product_obs_dq
        awsResourcePath: /data_quality
      - artifact: path/to/my/obs_workload.jar
        handler: com.mycompany.MyHandler::handleRequest
        lambdaname: my_data_product_obs_workload
        awsResourceName: my_data_product_obs_workload
        awsResourcePath: /workload
